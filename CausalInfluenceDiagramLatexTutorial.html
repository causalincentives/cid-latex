<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=MXVwpSGzOOhqOc5hUWJbBLizfYjsfH9XaeDpmRKYJN5bV0WvE1cEyAoIq5yYZlSc');.lst-kix_6n7jmadeovnc-6>li:before{content:"\0025cf  "}ul.lst-kix_oiisnq73o4br-1{list-style-type:none}ul.lst-kix_oiisnq73o4br-2{list-style-type:none}ul.lst-kix_oiisnq73o4br-3{list-style-type:none}ul.lst-kix_oiisnq73o4br-4{list-style-type:none}ul.lst-kix_oiisnq73o4br-5{list-style-type:none}ul.lst-kix_oiisnq73o4br-6{list-style-type:none}.lst-kix_6n7jmadeovnc-3>li:before{content:"\0025cf  "}.lst-kix_6n7jmadeovnc-7>li:before{content:"\0025cb  "}ul.lst-kix_oiisnq73o4br-7{list-style-type:none}.lst-kix_oiisnq73o4br-7>li:before{content:"\0025cb  "}ul.lst-kix_oiisnq73o4br-8{list-style-type:none}.lst-kix_6n7jmadeovnc-2>li:before{content:"\0025a0  "}.lst-kix_oiisnq73o4br-6>li:before{content:"\0025cf  "}.lst-kix_6n7jmadeovnc-8>li:before{content:"\0025a0  "}.lst-kix_6n7jmadeovnc-1>li:before{content:"\0025cb  "}ul.lst-kix_oiisnq73o4br-0{list-style-type:none}.lst-kix_oiisnq73o4br-5>li:before{content:"\0025a0  "}ul.lst-kix_6n7jmadeovnc-1{list-style-type:none}ul.lst-kix_6n7jmadeovnc-2{list-style-type:none}ul.lst-kix_6n7jmadeovnc-3{list-style-type:none}ul.lst-kix_6n7jmadeovnc-4{list-style-type:none}ul.lst-kix_6n7jmadeovnc-0{list-style-type:none}.lst-kix_oiisnq73o4br-8>li:before{content:"\0025a0  "}.lst-kix_6n7jmadeovnc-4>li:before{content:"\0025cb  "}.lst-kix_6n7jmadeovnc-5>li:before{content:"\0025a0  "}ul.lst-kix_6n7jmadeovnc-5{list-style-type:none}ul.lst-kix_6n7jmadeovnc-6{list-style-type:none}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_6n7jmadeovnc-7{list-style-type:none}ul.lst-kix_6n7jmadeovnc-8{list-style-type:none}.lst-kix_6n7jmadeovnc-0>li:before{content:"\0025cf  "}.lst-kix_oiisnq73o4br-2>li:before{content:"\0025a0  "}.lst-kix_oiisnq73o4br-4>li:before{content:"\0025cb  "}.lst-kix_oiisnq73o4br-3>li:before{content:"\0025cf  "}.lst-kix_oiisnq73o4br-0>li:before{content:"\0025cf  "}.lst-kix_oiisnq73o4br-1>li:before{content:"\0025cb  "}ol{margin:0;padding:0}table td,table th{padding:0}.c26{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Arial";font-style:normal}.c25{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c16{background-color:#fffffe;padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Roboto Mono";font-style:normal}.c6{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Roboto Mono";font-style:normal}.c24{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c11{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c19{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c20{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c8{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c22{padding-top:4pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c15{padding-top:10pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c17{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c13{font-weight:400;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c12{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c1{font-size:10pt;font-family:"Roboto Mono";color:#202020;font-weight:400}.c21{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c7{font-weight:400;font-family:"Roboto Mono"}.c9{margin-left:36pt;padding-left:0pt}.c5{color:inherit;text-decoration:inherit}.c18{padding:0;margin:0}.c3{font-weight:700}.c27{font-style:italic}.c23{font-family:"Roboto Mono"}.c14{font-size:10pt}.c10{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c21"><div><p class="c0 c10"><span class="c6"></span></p></div><p class="c25 title" id="h.betoe1h28mov"><span class="c26">Causal Influence Diagram Latex Tutorial</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span>This tutorial will explain how to draw nice-looking causal influence diagrams in LaTeX, using Tikz and the </span><span class="c12"><a class="c5" href="https://www.google.com/url?q=https://raw.githubusercontent.com/causalincentives/cid-latex/main/influence-diagrams.sty&amp;sa=D&amp;ust=1610445233199000&amp;usg=AOvVaw02pgurDoc_cAWaOeArma0n">influence-diagrams.sty</a></span><span class="c6">&nbsp;package.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span>The file </span><span class="c12"><a class="c5" href="https://www.google.com/url?q=https://raw.githubusercontent.com/causalincentives/cid-latex/main/examples.tex&amp;sa=D&amp;ust=1610445233199000&amp;usg=AOvVaw0gAcfY8CjRKhkbRD32u8lK">examples.tex</a></span><span class="c6">&nbsp;produces most of the below diagrams.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span>Before coding a diagram in Latex, first draw it on paper or in a WYSIWIG editor such as </span><span class="c12"><a class="c5" href="https://www.google.com/url?q=https://docs.google.com/presentation/d/1Iz65Ud2GfnwBD3w3Qv0BBxzFkBHk881YodgdfL_XJLY/&amp;sa=D&amp;ust=1610445233200000&amp;usg=AOvVaw3w4OvjRza5bMrfXbjOoxTP">Google slides</a></span><span class="c6">. Latex is great for professional-looking results, but far from ideal to think in.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c3 c17">Table of contents:</span></p><p class="c0 c10"><span class="c17 c3"></span></p><p class="c22"><span class="c13 c12"><a class="c5" href="#h.bbdj5crvp39p">Setup</a></span></p><p class="c15"><span class="c13 c12"><a class="c5" href="#h.ejnnac4399lx">Drawing a simple diagram</a></span></p><p class="c15"><span class="c13 c12"><a class="c5" href="#h.f4sgu3hyxcvo">A more advanced diagram</a></span></p><p class="c24"><span class="c13 c12"><a class="c5" href="#h.k35dht7z1w64">[Advanced] Bent Edges and the Bounding Box</a></span></p><p class="c15"><span class="c13 c12"><a class="c5" href="#h.7zoesik379dl">Adding a legend</a></span></p><p class="c15"><span class="c13 c12"><a class="c5" href="#h.f2vnxlhgpyja">Labeling incentives</a></span></p><p class="c15"><span class="c13 c12"><a class="c5" href="#h.yix77tbkc2rs">Multi-agent CIDs</a></span></p><p class="c15"><span class="c13 c12"><a class="c5" href="#h.kpfd93nrhs5w">Package options</a></span></p><p class="c15"><span class="c12 c13"><a class="c5" href="#h.b1bbks76khev">Further features</a></span></p><p class="c0 c10"><span class="c6"></span></p><h1 class="c11" id="h.bbdj5crvp39p"><span class="c8">Setup</span></h1><p class="c0"><span>Start with downloading </span><span class="c12"><a class="c5" href="https://www.google.com/url?q=https://bitbucket.org/tom4everitt/my-latex-style-files/src/master/influence-diagrams.sty&amp;sa=D&amp;ust=1610445233201000&amp;usg=AOvVaw0j7KzGcMoeES-tjA-A0nhW">influence-diagrams.sty</a></span><span class="c6">, and put it in the same folder as your main tex file. In the preamble of your main tex file, include it as</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c16"><span class="c1">\documentclass</span><span class="c7 c14">{</span><span class="c1">article</span><span class="c4">}</span></p><p class="c16"><span class="c1">\usepackage[decisionutilitycolor]</span><span class="c7 c14">{</span><span class="c1">influence</span><span class="c7 c14">-</span><span class="c1">diagrams</span><span class="c4">}</span></p><p class="c16"><span class="c1">\begin</span><span class="c7 c14">{</span><span class="c1">document</span><span class="c4">}</span></p><h1 class="c11" id="h.ejnnac4399lx"><span class="c8">Drawing a simple diagram</span></h1><p class="c0"><span class="c6">In the main document, add a diagram with the influence-diagram environment:</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c2">\begin{influence-diagram}</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; \node (A) [decision] {$A_1$};</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; \node (X) [right = of A] {$X$};</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; \node (U) [right = of X, utility] {$R_1$};</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; \edge {A} {X};</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; &nbsp; \edge {X} {U};</span></p><p class="c0"><span class="c2">\end{influence-diagram}</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 192.50px; height: 70.78px;"><img alt="" src="images/image2.png" style="width: 192.50px; height: 70.78px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">Nodes are added with the syntax </span></p><p class="c0"><span class="c7">\node (label) [properties] {text in node};</span><span class="c6">&nbsp;</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span>The label can subsequently be used to position other nodes around the node, and add edges between nodes via </span><span class="c7">\edge {label1} {label2}.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">Note that the &ldquo;properties&rdquo; field is also used to specify whether a node is a decision or a utility node (by default, it becomes a round chance node).</span></p><h1 class="c11" id="h.f4sgu3hyxcvo"><span class="c8">A more advanced diagram</span></h1><p class="c0"><span>Let&rsquo;s see how we can make a more complex diagram, with more nodes, dotted information edges, and curved edges to avoid them passing through other nodes.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c2">\begin{influence-diagram}</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; \node (S1) {$S_1$};</span></p><p class="c0"><span class="c2">&nbsp; \node (S2) [right = 2 of S1] {$S_2$};</span></p><p class="c0"><span class="c2">&nbsp; \node (S3) [right = 2 of S2] {$S_3$};</span></p><p class="c0"><span class="c2">&nbsp; </span></p><p class="c0"><span class="c2">&nbsp; \node (R1) [below = of S1, utility] {$R_1$};</span></p><p class="c0"><span class="c2">&nbsp; \node (R2) [below = of S2, utility] {$R_2$};</span></p><p class="c0"><span class="c2">&nbsp; \node (R3) [below = of S3, utility] {$R_3$};</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; \node (A1) at ($(R1)!0.5!(R2)$) [decision] {$A_1$};</span></p><p class="c0"><span class="c2">&nbsp; \node (A2) at ($(R2)!0.5!(R3)$) [decision] {$A_2$};</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; \node (thetaT) [above = of S1] {$\Theta_T$};</span></p><p class="c0"><span class="c2">&nbsp; \node (thetaR) [below = of R1] {$\Theta_R$};</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; % Edges (note that multiple labels can be given to each argument)</span></p><p class="c0"><span class="c2">&nbsp; \edge {S1, thetaR} {R1};</span></p><p class="c0"><span class="c2">&nbsp; \edge {S2, thetaR} {R2};</span></p><p class="c0"><span class="c2">&nbsp; \edge {S3} &nbsp; &nbsp; &nbsp; &nbsp; {R3};</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; \edge {thetaT} &nbsp; &nbsp; &nbsp; &nbsp; {S1};</span></p><p class="c0"><span class="c2">&nbsp; \edge {thetaT, A1, S1} {S2};</span></p><p class="c0"><span class="c2">&nbsp; \edge {thetaT, A2, S2} {S3};</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; % Dotted information edges</span></p><p class="c0"><span class="c2">&nbsp; \edge[information] {S1, R1} {A1};</span></p><p class="c0"><span class="c2">&nbsp; \edge[information] {S2, R2} {A2};</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; % A slightly bent edge, using a different syntax</span></p><p class="c0"><span class="c2">&nbsp; \path (thetaR) edge[-&gt;, bend right=10] (R3);</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; % A bent information edge, using an invisible helper node</span></p><p class="c0"><span class="c2">&nbsp; \node (help) [node distance=4mm, below left = of R1, phantom] {};</span></p><p class="c0"><span class="c2">&nbsp; \draw[information]</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; (S1) edge[ out=-120, in=135] (help)</span></p><p class="c0"><span class="c2">&nbsp; &nbsp; (help) edge[-&gt;, out=-45, in=-150] (A2);</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">\end{influence-diagram}</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 398.50px; height: 309.94px;"><img alt="" src="images/image9.png" style="width: 398.50px; height: 309.94px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">A few things to note:</span></p><ul class="c18 lst-kix_6n7jmadeovnc-0 start"><li class="c0 c9 li-bullet-0"><span>The graph is constructed around the sequence S1, S2, S3. To avoid the graph becoming too compact, we used &ldquo;</span><span class="c7">right = 2 of S1&rdquo;</span><span class="c6">, where the &ldquo;2&rdquo; indicates that the distance should be twice as large as normal.</span></li><li class="c0 c9 li-bullet-0"><span class="c6">To structure the code, we introduce one type of a node at a time: first the S-nodes, then the R-nodes, and so on.</span></li><li class="c0 c9 li-bullet-0"><span>The A-nodes are positioned halfway between the surrounding R-nodes, with the </span><span class="c7">($(label1)!0.5(label2)$)</span><span>&nbsp;syntax. Another way to position nodes that is often useful is &ldquo;</span><span class="c7">at</span><span>&nbsp;</span><span class="c7">(label1|-label2)&rdquo;</span><span>&nbsp;which gives the node the x-coordinate of </span><span class="c7">label1</span><span>&nbsp;and the y-coordinate of </span><span class="c7">label2</span><span>.</span></li><li class="c0 c9 li-bullet-0"><span>Multiple labels are given to the edge-commands. It is natural to structure these around all the edges </span><span class="c3">coming in</span><span>&nbsp;to different nodes. This makes it easy to give the argument &ldquo;information&rdquo; to the dotted edges going into decision nodes.</span></li><li class="c0 c9 li-bullet-0"><span class="c6">For bent edges, the path command can be used instead of the edge command. The &ldquo;=10&rdquo; part is optional, and controls how bent the path should be.</span></li><li class="c0 c9 li-bullet-0"><span>For more precision, bent edges can be created using invisible helper nodes. The keyword </span><span class="c7">phantom </span><span class="c6">makes the helper node invisible and small (It is useful to keep the helper node visible until satisfied with its position.) The in and out arguments control the bend of the edge. The in-angle and out-angle should differ by 180 degrees for the help node, in order to avoid a hard angle. In the example, the in-angle is 135 and the out-angle is -45.</span></li></ul><h2 class="c19" id="h.k35dht7z1w64"><span class="c20">[Advanced] Bent Edges and the Bounding Box</span></h2><p class="c0"><span>Bent edges can </span><span class="c12"><a class="c5" href="https://www.google.com/url?q=https://tex.stackexchange.com/questions/43621/bounding-box-is-larger-than-expected-when-drawing-a-curved-path&amp;sa=D&amp;ust=1610445233207000&amp;usg=AOvVaw0zauqB0Y__0LBRrrsoKsmG">make the bounding box too big</a></span><span>&nbsp;because they create invisible control points far from the path and these are included by the bounding box. As a </span><span class="c12"><a class="c5" href="https://www.google.com/url?q=https://tex.stackexchange.com/a/85851/148124&amp;sa=D&amp;ust=1610445233207000&amp;usg=AOvVaw1L8X0dn98QK9kFn81UfimK">work-around</a></span><span>, exclude the path from bounding box calculations by wrapping it in a </span><span class="c7">pgfinterruptboundingbox</span><span class="c6">&nbsp;environment. </span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">To make sure the bounding box includes the bent edge, add one or more extra nodes along the path to be included in the bounding box.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">For example, the following code avoids the extra whitespace created by the bent edge in the above diagram:</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c4">&nbsp; % This bent edge sticks an invisible control point out too far and messes</span></p><p class="c0"><span class="c4">&nbsp; % with the bounding box so have the bounding box ignore it</span></p><p class="c0"><span class="c4">&nbsp; \begin{pgfinterruptboundingbox}</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; \draw[information]</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; (S1) edge[in=135, out=-120]</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; % Bounding box helper</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; % Place at the bend point or wherever the line is furthest past the</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; % bounding box.</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; % Must be manually positioned using pos=(fraction of path length)</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; % since the bend point is not necessary half way along the path.</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; node[phantom, pos=0.75] (bbhelper) {}</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; (help)</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; (help) edge[-&gt;, out=-45, in=-150] (A2);</span></p><p class="c0"><span class="c4">&nbsp; \end{pgfinterruptboundingbox}</span></p><p class="c0 c10"><span class="c4"></span></p><p class="c0"><span class="c4">&nbsp; % Place another node at the bbhelper; this time included by the bounding box</span></p><p class="c0"><span class="c4">&nbsp; % Manually adjust minimum size to compensate for any slight misalignment</span></p><p class="c0"><span class="c4">&nbsp; % with the bend point of the path and to fully include the path line width.</span></p><p class="c0"><span class="c4">&nbsp; \node[phantom, minimum size=1pt] at (bbhelper) {};</span></p><p class="c0 c10"><span class="c4"></span></p><p class="c0 c10"><span class="c4"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 358.13px; height: 279.50px;"><img alt="" src="images/image3.png" style="width: 358.13px; height: 279.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span>Add the following just before </span><span class="c7">\end{influence-diagram}</span><span class="c6">&nbsp;to visualize the bounding box:</span></p><p class="c0"><span class="c4">&nbsp; </span></p><p class="c0"><span class="c4">\draw[black] (current bounding box.south west) rectangle (current bounding box.north east);</span></p><h1 class="c11" id="h.7zoesik379dl"><span class="c8">Adding a legend</span></h1><p class="c0"><span>The following code can be used to add a legend to the diagram, explaining the different node types and edges. The command should be used inside </span><span class="c7">influence-diagram</span><span class="c6">&nbsp;environments.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c2">\cidlegend[right = of Y, yshift=-5mm, xshift=1mm]{</span></p><p class="c0"><span class="c2">&nbsp; \legendrow &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{chance node} \\</span></p><p class="c0"><span class="c2">&nbsp; \legendrow &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{decision} &nbsp;{decision node}\\</span></p><p class="c0"><span class="c2">&nbsp; \legendrow &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{utility} &nbsp; {utility node}\\</span></p><p class="c0"><span class="c2">&nbsp; \legendrow[causal] &nbsp; &nbsp; &nbsp;{draw=none} {causal link} \\</span></p><p class="c0"><span class="c2">&nbsp; \legendrow[information] {draw=none} {information link} }</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">\edge {causal.west} {causal.east};</span></p><p class="c0"><span class="c2">\edge[information] {information.west} {information.east};</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 189.50px; height: 149.84px;"><img alt="" src="images/image1.png" style="width: 189.50px; height: 149.84px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">The legend can be positioned like any other node. For example, this one is positioned right of a node labeled Y, and slightly shifted in both x and y directions.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">Each legend row takes a node property as first argument, and a description as a second argument. For the different types of edges, we tell it not to draw the node, and instead give it a label that we can later draw different types of edges around.</span></p><h1 class="c11" id="h.f2vnxlhgpyja"><span class="c8">Labeling incentives</span></h1><p class="c0"><span class="c6">For labeling different types of incentives, there are the commands \fci, \ri, \voi, and \voc. For example, (somewhat non-sensically) adding the following commands to the MDP example above:</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c2">&nbsp; \ri{S1}</span></p><p class="c0"><span class="c2">&nbsp; \ri[rectangle]{A1}</span></p><p class="c0"><span class="c2">&nbsp; \voi{thetaT}</span></p><p class="c0"><span class="c2">&nbsp; \fci{S3}</span></p><p class="c0"><span class="c2">&nbsp; \fci[diamond]{R3}</span></p><p class="c0"><span class="c2">&nbsp; \voc{thetaR}</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">produces:</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 354.50px; height: 299.39px;"><img alt="" src="images/image5.png" style="width: 354.50px; height: 299.39px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c6">Note that shapes need to be specified manually. If a single node has multiple incentives, the size of the surrounding circles can be adjusted with an optional argument in angle brackets (&lt;1&gt; gives the default size):</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c2">&nbsp; \voi&lt;1&gt;{S1}</span></p><p class="c0"><span class="c2">&nbsp; \ri&lt;2&gt;{S1}</span></p><p class="c0"><span class="c2">&nbsp; \fci&lt;3&gt;{S1}</span></p><p class="c0"><span class="c7">&nbsp; \voc&lt;4&gt;{S1}</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 106.50px; height: 98.71px;"><img alt="" src="images/image7.png" style="width: 106.50px; height: 98.71px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">To annotate decision and utility nodes, supply the correct shape as an optional argument:</span></p><p class="c0"><span class="c2">&nbsp; \fci[rectangle]{A}</span></p><p class="c0"><span class="c2">&nbsp; \fci[diamond]&lt;3&gt;{U}</span></p><p class="c0"><span class="c6">Do not use decision/utility, as these will color the content. The size of the utility annotations typically needs to be manually increased.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">A legend for different types of incentives can be produced with:</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span>\</span><span class="c2">cidlegend{</span></p><p class="c0"><span class="c2">&nbsp;\legendrow{value of information}{Value of Information}\\</span></p><p class="c0"><span class="c2">&nbsp;\legendrow{value of control}{Value of Control} \\</span></p><p class="c0"><span class="c2">&nbsp;\legendrow{response incentive}{Response Incentive}\\</span></p><p class="c0"><span class="c2">&nbsp;\legendrow{feasible control incentive}{Feasible Control Incentive}}</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 275.50px; height: 127.09px;"><img alt="" src="images/image4.png" style="width: 275.50px; height: 127.09px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">New types of incentives can be specified by defining new commands on top of the incentive command. For example</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c7">\NewDocumentCommand\</span><span class="c3 c23">voci</span><span class="c7">{O{}D&lt;&gt;{1}m}{\incentive{#3}{incentive, </span><span class="c3 c23">gray</span><span class="c2">,#1}{#2}}</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span>defines a new command for gray labels indicating indirect value of control.</span></p><h1 class="c11" id="h.yix77tbkc2rs"><span class="c8">Multi-agent CIDs</span></h1><p class="c0"><span>Multi-agent CIDs (MACIDs) can be created with the </span><span class="c7">player1</span><span>&nbsp;and </span><span class="c7">player2</span><span>&nbsp;keys. Be sure to put these properties </span><span class="c27">after</span><span class="c3">&nbsp;</span><span class="c6">decision or utility, otherwise the color will overwrite.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span>For additional players, specify their color with e.g. </span><span class="c7">\tikzset{player3/.style = {fill=cyan!30}}</span><span>&nbsp;in the preamble of the document.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c2">\begin{influence-diagram}</span></p><p class="c0"><span class="c2">&nbsp; \node (help) [draw=none] {};</span></p><p class="c0"><span class="c2">&nbsp; \node (P1) [above = of help, decision, player1] {$D_1$};</span></p><p class="c0"><span class="c2">&nbsp; \node (P2) [below = of help, decision, player2] {$D_2$};</span></p><p class="c0"><span class="c2">&nbsp; \node (U1) [right = of help, utility, player1] {$U_1$};</span></p><p class="c0"><span class="c2">&nbsp; \node (U2) [left = of help, utility, player2] {$U_2$};</span></p><p class="c0"><span class="c2">&nbsp; \node (C) at (U2|-P1) {$C$};</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">&nbsp; \edge[information] {C} {P1};</span></p><p class="c0"><span class="c2">&nbsp; \edge[information] {P1} {P2};</span></p><p class="c0"><span class="c2">&nbsp; \edge {P1,P2} {U1};</span></p><p class="c0"><span class="c2">&nbsp; \edge {C,P1,P2} {U2};</span></p><p class="c0"><span class="c2">\end{influence-diagram}</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 248.00px; height: 244.00px;"><img alt="" src="images/image8.png" style="width: 248.00px; height: 244.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c11" id="h.kpfd93nrhs5w"><span class="c8">Package options</span></h1><p class="c0"><span class="c6">The package currently supports the following options:</span></p><ul class="c18 lst-kix_oiisnq73o4br-0 start"><li class="c0 c9 li-bullet-0"><span class="c3">decisionutilitycolor</span><span class="c6">: colors decision and utility nodes</span></li><li class="c0 c9 li-bullet-0"><span class="c3">compact</span><span class="c6">: reduces size of the diagram by narrowing margins and shrinking font size</span></li><li class="c0 c9 li-bullet-0"><span class="c3">rectangularnodes</span><span class="c6">: makes nodes rectangular(ish). This is useful when putting text instead of one-letter variables inside nodes</span></li><li class="c0 c9 li-bullet-0"><span class="c3">thin</span><span class="c6">: makes edges and lines thinner</span></li></ul><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span>For example, importing influence-diagrams.sty with<br><br></span><span class="c7">\usepackage[compact,rectangularnodes] {influence-diagrams}</span><span class="c6">&nbsp;<br><br>makes diagrams compact and suitable for text-labels by default.</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c6">It is also possible to apply these modifications to a subset of all diagrams. For example</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span class="c2">\begin{influence-diagram}</span></p><p class="c0"><span class="c2">\setcompact</span></p><p class="c0"><span class="c2">\setrectangularnodes</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">...</span></p><p class="c0 c10"><span class="c2"></span></p><p class="c0"><span class="c2">\end{influence-diagram} </span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span>will similarly produce a compact diagram with node-shapes suitable for text. The opposite commands are </span><span class="c7">\setnormalsize</span><span>&nbsp;and </span><span class="c2">\setcircularnodes</span></p><p class="c0 c10"><span class="c6"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 275.00px; height: 196.00px;"><img alt="" src="images/image6.png" style="width: 275.00px; height: 196.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c11" id="h.b1bbks76khev"><span class="c8">Further features</span></h1><p class="c0"><span>The package is based directly on Tikz, so it&rsquo;s usually possible to google &ldquo;how to do X in TikZ&rdquo; to get some good suggestions. Indeed, the </span><span class="c7">influence-diagram</span><span>&nbsp;environment is just a </span><span class="c7">tikzpicture</span><span>&nbsp;environment with some default options set.</span></p></body></html>